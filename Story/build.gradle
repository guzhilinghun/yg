import org.gradle.plugins.ide.eclipse.model.Facet

buildscript {
	repositories {
    	jcenter()
	}
	dependencies {
		classpath 'org.akhikhl.gretty:gretty:+'
	}
}

repositories {
	jcenter()
}

apply plugin: 'java'
apply plugin: 'war'
apply plugin: 'eclipse'
apply plugin: 'eclipse-wtp'
apply plugin: 'org.akhikhl.gretty'

targetCompatibility = 1.8
[compileJava, compileTestJava, javadoc]*.options*.encoding = "UTF-8"

dependencies {
	compile 'org.slf4j:slf4j-api:1.7.21',
			'org.slf4j:slf4j-simple:1.7.21',
			'org.apache.shiro:shiro-core:1.3.2'
			'org.apache.shiro:shiro-web:1.3.2'
			'mysql:mysql-connector-java:6.0.5'
			
    testCompile 'junit:junit:4.12'
    
    providedCompile 'javax:javaee-api:6.0'
}

eclipse {
	wtp {
		facet {
			facet name: 'jst.web', type: Facet.FacetType.fixed
			facet name: 'jst.java', type: Facet.FacetType.fixed
			facet name: 'wst.jsdt.web', type: Facet.FacetType.fixed
			facet name: 'jst.web', version: '3.0'
			facet name: 'jst.java', version: '1.8'
			facet name: 'wst.jsdt.web', version: '1.0'
		}
	}
}

gretty {
	port = 8080
	contextPath = ''
	servletContainer = 'tomcat8'
}
